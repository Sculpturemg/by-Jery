<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'Art de la Sculpture Malgache</title>
<style>
body { margin:0; font-family: Arial, sans-serif; background:#f7f3ef; }
header { background:#2f2b28; color:white; padding:15px; text-align:center; font-size:22px; font-weight:bold; }
nav { display:flex; flex-wrap:wrap; justify-content:center; gap:10px; background:#403c38; padding:10px; }
nav button { padding:10px 15px; background:#d9a066; border:none; color:white; cursor:pointer; border-radius:5px; font-weight:bold; }
nav button:hover { background:#bb873f; }
section { display:none; padding:20px; }
section.visible { display:block; }
.hero { text-align:center; background:white; padding:20px; border-radius:10px; }
.hero img { width:100%; max-height:300px; object-fit:cover; border-radius:10px; cursor:pointer; }
.gallery { display:grid; grid-template-columns:repeat(auto-fill, minmax(150px,1fr)); gap:10px; }
.gallery img { width:100%; height:150px; object-fit:cover; border-radius:8px; cursor:pointer; transition: transform 0.2s; }
.gallery img:hover { transform: scale(1.05); }
.service-card { background:white; padding:15px; border-radius:8px; margin-bottom:15px; box-shadow:0 2px 8px rgba(0,0,0,0.15); transition: transform 0.2s; }
.service-card:hover { transform: translateY(-5px); box-shadow:0 4px 12px rgba(0,0,0,0.2); }
.admin-panel { background:#fdf5e6; padding:15px; border-radius:10px; margin-top:10px; display:none; }
.admin-panel textarea, .admin-panel input { width:100%; padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid #ccc; }
.admin-panel button { padding:10px 15px; background:#d9a066; border:none; color:white; cursor:pointer; border-radius:5px; font-weight:bold; }
.admin-panel button:hover { background:#bb873f; }
.lightbox { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); display:none; align-items:center; justify-content:center; z-index:10000; }
.lightbox img { max-width:90%; max-height:90%; border-radius:10px; }
.lightbox:target { display:flex; }
@media (max-width:600px){
  nav { flex-direction:column; }
  .service-card { margin-bottom:10px; }
}
</style>
</head>
<body>

<header>L'Art de la Sculpture Malgache</header>

<nav>
<button onclick="openSection('accueil')">Accueil</button>
<button onclick="openSection('apropos')">À propos</button>
<button onclick="openSection('prehistoire')">Pré-histoire</button>
<button onclick="openSection('services')">Services</button>
<button onclick="openSection('galerie')">Galerie</button>
<button onclick="openSection('contact')">Contact</button>
<button onclick="openLogin()">Admin</button>
</nav>

<!-- ACCUEIL -->
<section id="accueil" class="hero visible">
<h2>Bienvenue dans l'univers de la sculpture malgache</h2>
<img id="imgAccueil" src="" alt="Accueil" onclick="openLightbox(this.src)">
<p id="textAccueil">Le sculpteur malgache puise son inspiration dans les traditions ancestrales et les légendes locales. Depuis des siècles, l’art de la sculpture transmet la culture, les croyances et l’âme du peuple. Les œuvres sont créées à partir de bois précieux et de pierre, reflétant la vie quotidienne et les rituels. Chaque sculpture raconte une histoire unique, mêlant esthétique et symbolisme. Aujourd’hui, ces artistes perpétuent un héritage culturel exceptionnel, transmis de génération en génération.</p>

<div id="adminAccueil" class="admin-panel">
<h3>Admin Accueil</h3>
<textarea id="editAccueil" rows="5"></textarea>
<input type="file" id="fileAccueil" accept="image/*" onchange="loadAccueilImage(event)">
<button onclick="saveAccueil()">Enregistrer Accueil</button>
</div>
</section>

<!-- À PROPOS -->
<section id="apropos">
<h2>À propos</h2>
<p id="textApropos">Artisan sculpteur passionné, spécialisé dans les œuvres traditionnelles et modernes.</p>

<div id="adminApropos" class="admin-panel">
<h3>Admin À propos</h3>
<textarea id="editApropos" rows="5"></textarea>
<button onclick="saveApropos()">Enregistrer À propos</button>
</div>
</section>

<!-- PRÉ-HISTOIRE -->
<section id="prehistoire">
<h2>Pré-histoire et Origines</h2>
<p id="textPrehistoire">
Les premières sculptures malgaches remontent aux siècles précédant l’arrivée des premiers habitants de l’île. Elles représentaient des divinités, des ancêtres ou des esprits de la nature. Chaque région de Madagascar a développé son propre style, influencé par l’environnement et les traditions locales. Aujourd’hui, cet art ancestral continue d’inspirer les artistes contemporains et les expositions internationales.
</p>

<div id="adminPrehistoire" class="admin-panel">
<h3>Admin Pré-histoire</h3>
<textarea id="editPrehistoire" rows="5"></textarea>
<button onclick="savePrehistoire()">Enregistrer Pré-histoire</button>
</div>
</section>

<!-- SERVICES -->
<section id="services">
<h2>Services</h2>
<div id="listServices">
<div class="service-card">Commandes personnalisées</div>
<div class="service-card">Restauration d'œuvres</div>
<div class="service-card">Expositions</div>
<div class="service-card">Ateliers & Formations</div>
</div>

<div id="adminServices" class="admin-panel">
<h3>Admin Services</h3>
<textarea id="editServices" rows="5" placeholder="Une ligne = un service"></textarea>
<button onclick="saveServices()">Enregistrer Services</button>
</div>
</section>

<!-- GALERIE -->
<section id="galerie">
<h2>Galerie</h2>
<div class="gallery" id="galleryContainer"></div>

<div id="adminGalerie" class="admin-panel">
<h3>Admin Galerie</h3>
<div id="galleryAdmin"></div>
<button onclick="renderGalleryAdmin()">Rafraîchir Galerie</button>
</div>
</section>

<!-- CONTACT -->
<section id="contact">
<h2>Contact</h2>
<p>Email : <span id="contactEmail">sculpture@example.com</span></p>
<p>Téléphone : <span id="contactTel">+261 34 00 000 00</span></p>
<p>Facebook : <span id="contactFB">facebook.com/sculpture</span></p>
<p>WhatsApp : <span id="contactWA">+261 34 00 000 00</span></p>

<div id="adminContact" class="admin-panel">
<h3>Admin Contact</h3>
<input id="editEmail" placeholder="Email">
<input id="editTel" placeholder="Téléphone">
<input id="editFB" placeholder="Facebook">
<input id="editWA" placeholder="WhatsApp">
<button onclick="saveContact()">Enregistrer Contact</button>
</div>
</section>

<!-- Lightbox -->
<div id="lightbox" class="lightbox" onclick="this.style.display='none'">
<img id="lightboxImg" src="">
</div>

<!-- Admin Login Modal -->
<div id="loginModal" class="lightbox" style="display:none; background:rgba(0,0,0,0.9); flex-direction:column; padding:20px;">
<h2 style="color:white;">Connexion Admin</h2>
<input id="adminEmailInput" placeholder="Email" style="margin-bottom:10px; padding:10px; border-radius:5px; border:none;">
<input type="password" id="adminPassInput" placeholder="Mot de passe" style="margin-bottom:10px; padding:10px; border-radius:5px; border:none;">
<button onclick="loginAdmin()">Se connecter</button>
<button onclick="closeLogin()" style="margin-top:10px;">Annuler</button>
<p id="loginError" style="color:red;"></p>
</div>

<script>
// Données initiales
let galleryData = [];
const adminCredentials = { email:'admin@example.com', password:'123456' };

// Section toggle
function openSection(id){
  document.querySelectorAll('section').forEach(s=>s.classList.remove('visible'));
  document.getElementById(id).classList.add('visible');
  if(id==='galerie') renderGalleryAdmin();
}

// Lightbox
function openLightbox(src){
  document.getElementById('lightboxImg').src = src;
  document.getElementById('lightbox').style.display='flex';
}

// Admin Login
function openLogin(){
  document.getElementById('loginModal').style.display='flex';
}
function closeLogin(){
  document.getElementById('loginModal').style.display='none';
}
function loginAdmin(){
  const email = document.getElementById('adminEmailInput').value;
  const pass = document.getElementById('adminPassInput').value;
  if(email===adminCredentials.email && pass===adminCredentials.password){
    closeLogin();
    document.querySelectorAll('.admin-panel').forEach(p=>p.style.display='block');
  } else{
    document.getElementById('loginError').innerText='Email ou mot de passe incorrect';
  }
}

// Accueil image locale
function loadAccueilImage(event){
  const file = event.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = e => { document.getElementById('imgAccueil').src = e.target.result; };
    reader.readAsDataURL(file);
  }
}

// Admin functions
function saveAccueil(){
  document.getElementById('textAccueil').innerText = document.getElementById('editAccueil').value || document.getElementById('textAccueil').innerText;
}
function saveApropos(){
  document.getElementById('textApropos').innerText = document.getElementById('editApropos').value || document.getElementById('textApropos').innerText;
}
function savePrehistoire(){
  document.getElementById('textPrehistoire').innerText = document.getElementById('editPrehistoire').value || document.getElementById('textPrehistoire').innerText;
}
function saveServices(){
  const services = document.getElementById('editServices').value.split("\n").filter(Boolean)
    .map(s=>`<div class="service-card">${s}</div>`).join('');
  if(services) document.getElementById('listServices').innerHTML = services;
}
function saveContact(){
  document.getElementById('contactEmail').innerText = document.getElementById('editEmail').value || document.getElementById('contactEmail').innerText;
  document.getElementById('contactTel').innerText = document.getElementById('editTel').value || document.getElementById('contactTel').innerText;
  document.getElementById('contactFB').innerText = document.getElementById('editFB').value || document.getElementById('contactFB').innerText;
  document.getElementById('contactWA').innerText = document.getElementById('editWA').value || document.getElementById('contactWA').innerText;
}

// Galerie
function renderGallery(){
  const container = document.getElementById('galleryContainer');
  container.innerHTML = galleryData.map((item,index)=>
    `<img src="${item.image}" onclick="openLightbox('${item.image}')">`
  ).join('');
}

function renderGalleryAdmin(){
  const container = document.getElementById('galleryAdmin');
  container.innerHTML = '';
  galleryData.forEach((item,index)=>{
    const div = document.createElement('div');
    div.style.marginBottom="10px";
    div.innerHTML = `
      <img src="${item.image}" style="width:100px;height:100px;object-fit:cover;border-radius:5px;">
      <input type="file" onchange="updateGalleryImage(event, ${index})">
      <button onclick="deleteGalleryImage(${index})">Supprimer</button>
    `;
    container.appendChild(div);
  });
}

function updateGalleryImage(event,index){
  const file = event.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = e=>{
      galleryData[index].image = e.target.result;
      renderGallery();
      renderGalleryAdmin();
    };
    reader.readAsDataURL(file);
  }
}

function deleteGalleryImage(index){
  if(confirm('Voulez-vous supprimer cette image ?')){
    galleryData.splice(index,1);
    renderGallery();
    renderGalleryAdmin();
  }
}

// Initialisation
document.addEventListener('DOMContentLoaded',()=>{
  galleryData = [];
  renderGallery();
  renderGalleryAdmin();
});
</script>

</body>
</html>
