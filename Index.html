<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sculpture MG — Galerie</title>

<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: #f9f4ee;
        color: #333;
    }
    header {
        display: flex;
        justify-content: space-between;
        padding: 15px 25px;
        align-items: center;
        background: #fff;
        border-bottom: 1px solid #ddd;
        position: sticky;
        top: 0;
    }
    h1, h2, h3 {
        margin: 15px 0;
    }
    .btn {
        background: #e67c35;
        color: white;
        padding: 10px 20px;
        border-radius: 6px;
        border: none;
        cursor: pointer;
        font-size: 15px;
    }
    .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        padding: 20px;
    }
    .card {
        background: #fff;
        border-radius: 10px;
        padding: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    }
    .card img {
        width: 100%;
        border-radius: 10px;
    }
    #adminPanel {
        display: none;
        background: #fff;
        padding: 20px;
        margin: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    #loginPanel {
        padding: 20px;
        max-width: 300px;
        margin: 20px auto;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    .input {
        width: 100%;
        padding: 10px;
        margin-top: 10px;
        border-radius: 6px;
        border: 1px solid #ccc;
    }
</style>
</head>

<body>

<header>
    <h2>Sculpture MG</h2>
    <button class="btn" onclick="showLogin()">Connexion</button>
</header>

<section style="padding: 20px;">
    <h1>L'Art de la Sculpture Malgache</h1>
    <p>Découvrez des œuvres uniques sculptées avec passion…</p>
</section>
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sculpture MG — Galerie</title>
  <style>
    :root{--bg:#fff8f2;--accent:#ef7e2f;--muted:#555;--card:#ffffff;--glass: rgba(255,255,255,0.6)}
    *{box-sizing:border-box}body{font-family:Inter,system-ui,Arial,Helvetica,sans-serif;margin:0;background:linear-gradient(180deg,#fff 0%, #fff8f2 100%);color:#222}
    header{display:flex;align-items:center;justify-content:space-between;padding:18px 24px;border-bottom:1px solid rgba(0,0,0,0.05);background:transparent}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44px;border-radius:10px;background:var(--accent);color:white;display:flex;align-items:center;justify-content:center;font-weight:700}
    .nav{display:flex;gap:12px;align-items:center}
    button, .btn{cursor:pointer;border:0;padding:10px 18px;border-radius:999px;background:var(--accent);color:#fff;font-weight:600}
    .btn-outline{background:transparent;border:2px solid var(--accent);color:var(--accent)}
    main{padding:28px}
    .hero{display:grid;grid-template-columns:1fr;gap:18px;align-items:center}
    .hero-inner{max-width:760px}
    h1{font-size:36px;margin:0 0 12px;color:#cc5b00}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .actions{display:flex;gap:12px}

    /* gallery */
    .gallery{margin-top:26px;display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
    .card{background:var(--card);border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06);overflow:hidden}
    .card img{display:block;width:100%;height:170px;object-fit:cover}
    .card-body{padding:12px}
    .title{font-weight:700;margin:0 0 6px}
    .desc{font-size:14px;color:var(--muted);margin:0 0 8px}
    .price{font-weight:700;color:var(--accent)}
    .admin-bar{display:flex;gap:8px;margin-top:8px}
    .small{padding:6px 10px;border-radius:8px;font-size:13px}

    /* contact/footer */
    footer{padding:28px;border-top:1px solid rgba(0,0,0,0.04);margin-top:28px}

    /* modal/login */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);padding:20px}
    .modal.open{display:flex}
    .panel{background:white;padding:18px;border-radius:12px;max-width:720px;width:100%}
    form.row{display:grid;gap:8px}

    /* admin area */
    .admin-area{margin-top:18px;background:linear-gradient(180deg,rgba(255,255,255,0.9), rgba(255,255,255,0.95));padding:12px;border-radius:10px}
    .field{display:flex;flex-direction:column;margin-bottom:8px}
    label{font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type=text],textarea,input[type=file]{padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.08)}
    textarea{min-height:80px}
    .tools{display:flex;gap:8px;flex-wrap:wrap}

    @media(min-width:900px){.hero{grid-template-columns:1fr 360px}.hero-inner h1{font-size:44px}}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">S</div>
      <div>
        <div style="font-weight:700">Sculpture MG</div>
        <div style="font-size:13px;color:var(--muted)">L'Art de la Sculpture Malgache</div>
      </div>
    </div>
    <div class="nav">
      <button id="btnExplore" class="btn">Explorer la Galerie</button>
      <button id="btnAdmin" class="btn btn-outline">Connexion</button>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-inner">
        <h1>L'Art de la Sculpture Malgache</h1>
        <p class="lead">Découvrez des œuvres uniques sculptées avec passion, racontant l'histoire et la culture de Madagascar à travers le bois et la pierre.</p>
        <div class="actions">
          <button class="btn" id="scrollGallery">Explorer la Galerie →</button>
          <button class="btn btn-outline" id="orderBtn">Commander une Œuvre</button>
        </div>

        <div id="gallery" class="gallery" aria-live="polite"></div>
      </div>

      <aside style="padding:18px;border-radius:12px;background:var(--glass);backdrop-filter: blur(6px);">
        <h3 style="margin:0 0 8px">Contact & Paiement</h3>
        <p style="margin:0 0 12px;color:var(--muted)">Email: contact@sculpturemg.example<br>Tel: +261 34 00 000 00</p>
        <div style="font-size:14px;color:var(--muted)">Moyens: Virement bancaire, Orange Money</div>
      </aside>
    </section>

    <section style="margin-top:18px">
      <h2 style="margin:0 0 10px">Galerie d'œuvres</h2>
      <div id="galleryGrid" class="gallery"></div>
    </section>

    <section style="margin-top:18px">
      <h2>Informations générales</h2>
      <p id="infoText">Bienvenue sur la galerie. Texte d'accueil modifiable dans l'interface admin.</p>
    </section>

    <section style="margin-top:18px">
      <h2>Contactez-nous</h2>
      <form id="contactForm" class="row" onsubmit="return false">
        <input type="text" id="cname" placeholder="Votre nom" required />
        <input type="text" id="cemail" placeholder="Votre e‑mail" required />
        <textarea id="cmsg" placeholder="Message"></textarea>
        <div style="display:flex;gap:10px">
          <button class="btn" onclick="alert('Formulaire envoyé (démo)')">Envoyer</button>
        </div>
      </form>
    </section>

    <div id="adminSection"></div>

  </main>

  <footer>
    <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:12px">
      <div>© <span id="year"></span> Sculpture MG</div>
      <div style="color:var(--muted)">Fait avec ❤️ à Madagascar</div>
    </div>
  </footer>

  <!-- Login / modal -->
  <div id="modal" class="modal" role="dialog" aria-modal="true">
    <div class="panel">
      <h3>Connexion Admin</h3>
      <form id="loginForm" class="row">
        <label>Mot de passe</label>
        <input id="pwd" type="password" placeholder="Mot de passe" />
        <div style="display:flex;gap:8px">
          <button class="btn" type="button" id="loginBtn">Se connecter</button>
          <button class="btn btn-outline" type="button" id="cancelLogin">Annuler</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Simple client-side admin system for GitHub Pages / local demo
    // ⚠️ IMPORTANT: This is client-side only. Not secure for real production. Use a real server for sensitive data.

    const DEFAULT_PASS = 'admin123'; // change this in the file before publishing if needed
    const STORAGE_KEY = 'sculpture_mg_data_v1';

    const yearEl = document.getElementById('year'); yearEl.textContent = new Date().getFullYear();

    // Load data
    function loadData(){
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) return {infoText:'Bienvenue sur la galerie. Texte d\'accueil modifiable dans l\'interface admin.', artworks:[]};
      try{ return JSON.parse(raw); }catch(e){return {infoText:'Bienvenue', artworks:[]}}
    }
    function saveData(data){ localStorage.setItem(STORAGE_KEY, JSON.stringify(data)); renderAll(); }

    let DATA = loadData();

    // Demo seed if empty
    if(DATA.artworks.length===0){
      DATA.artworks.push({id:cryptoRandomId(),title:'Sculpture Ancestrale',desc:'Bois sculpté, 45cm',price:'120 000 MGA',image:'https://images.unsplash.com/photo-1526318472351-c75fcf0700c4?auto=format&fit=crop&w=800&q=60'});
      DATA.artworks.push({id:cryptoRandomId(),title:'Tête de Roi',desc:'Pierre gravée',price:'200 000 MGA',image:'https://images.unsplash.com/photo-1526481280698-9f2f7c5d7b23?auto=format&fit=crop&w=800&q=60'});
      saveData(DATA);
    }

    // Renderers
    const galleryGrid = document.getElementById('galleryGrid');
    const gallerySingle = document.getElementById('gallery');

    function renderAll(){
      // hero: first 3
      gallerySingle.innerHTML='';
      const first = DATA.artworks.slice(0,3);
      first.forEach(a=>{ const el = createCard(a,false); gallerySingle.appendChild(el); });

      // grid
      galleryGrid.innerHTML='';
      DATA.artworks.forEach(a=>{ galleryGrid.appendChild(createCard(a,true)); });

      // info
      document.getElementById('infoText').textContent = DATA.infoText || '';
    }

    function createCard(a,withAdminControls){
      const div = document.createElement('div'); div.className='card';
      const img = document.createElement('img'); img.src=a.image||''; img.alt=a.title||'Œuvre';
      div.appendChild(img);
      const body = document.createElement('div'); body.className='card-body';
      const t = document.createElement('div'); t.className='title'; t.textContent=a.title||'Titre';
      const d = document.createElement('div'); d.className='desc'; d.textContent=a.desc||'';
      const p = document.createElement('div'); p.className='price'; p.textContent=a.price||'';
      body.appendChild(t); body.appendChild(d); body.appendChild(p);

      if(window.isAdmin && withAdminControls){
        const bar = document.createElement('div'); bar.className='admin-bar';
        const edit = document.createElement('button'); edit.className='small'; edit.textContent='Modifier';
        const del = document.createElement('button'); del.className='small'; del.textContent='Supprimer';
        edit.onclick = ()=> openEditModal(a.id);
        del.onclick = ()=> { if(confirm('Supprimer cette œuvre ?')){ deleteArtwork(a.id);} }
        bar.appendChild(edit); bar.appendChild(del);
        body.appendChild(bar);
      }

      div.appendChild(body);
      return div;
    }

    function cryptoRandomId(){ return Math.random().toString(36).slice(2,9); }

    function deleteArtwork(id){ DATA.artworks = DATA.artworks.filter(x=>x.id!==id); saveData(DATA); }

    // Admin UI building
    const adminSection = document.getElementById('adminSection');
    let isAdmin = false;

    function buildAdminPanel(){
      adminSection.innerHTML='';
      if(!window.isAdmin) return;
      const panel = document.createElement('div'); panel.className='admin-area';
      panel.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h3 style="margin:0">Interface Admin</h3>
          <div style="display:flex;gap:8px">
            <button id="btnExport" class="btn btn-outline small">Exporter JSON</button>
            <button id="btnLogout" class="btn small">Se déconnecter</button>
          </div>
        </div>
        <hr style="opacity:0.06;margin:12px 0" />
        <div>
          <label style="font-weight:700">Texte d'accueil</label>
          <textarea id="adminInfoText" style="width:100%">${escapeHTML(DATA.infoText||'')}</textarea>
        </div>
        <div style="margin-top:12px">
          <h4>Ajouter une œuvre</h4>
          <div class="field"><label>Titre</label><input id="a_title" type="text" /></div>
          <div class="field"><label>Description</label><textarea id="a_desc"></textarea></div>
          <div class="field"><label>Prix</label><input id="a_price" type="text" /></div>
          <div class="field"><label>Image (fichier)</label><input id="a_file" type="file" accept="image/*"/></div>
          <div class="tools"><button id="a_add" class="btn">Ajouter</button><button id="a_clear" class="btn btn-outline">Tout réinitialiser</button></div>
        </div>
        <div style="margin-top:12px">
          <h4>Œuvres (édition rapide)</h4>
          <div id="adminList"></div>
        </div>
      `;
      adminSection.appendChild(panel);

      document.getElementById('btnLogout').onclick = ()=>{ window.isAdmin=false; localStorage.setItem('sculpture_mg_admin','false'); buildAdminPanel(); renderAll(); }
      document.getElementById('btnExport').onclick = ()=>{ const blob=new Blob([JSON.stringify(DATA, null, 2)],{type:'application/json'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='sculpturemg-data.json'; a.click(); }

      document.getElementById('a_add').onclick = ()=>{
        const title = document.getElementById('a_title').value.trim();
        const desc = document.getElementById('a_desc').value.trim();
        const price = document.getElementById('a_price').value.trim();
        const file = document.getElementById('a_file').files[0];
        if(!title){ alert('Titre requis'); return; }
        if(file){ const reader=new FileReader(); reader.onload = e=>{ DATA.artworks.unshift({id:cryptoRandomId(),title,desc,price,image:e.target.result}); saveData(DATA); document.getElementById('a_title').value=''; document.getElementById('a_desc').value=''; document.getElementById('a_price').value=''; document.getElementById('a_file').value=''; }
          reader.readAsDataURL(file);
        } else { DATA.artworks.unshift({id:cryptoRandomId(),title,desc,price,image:''}); saveData(DATA); }
      }

      document.getElementById('a_clear').onclick = ()=>{ if(confirm('Supprimer toutes les œuvres et réinitialiser les données ?')){ DATA = {infoText:DATA.infoText, artworks:[]}; saveData(DATA); }}

      // admin list quick edit
      const adminList = document.getElementById('adminList'); adminList.innerHTML='';
      DATA.artworks.forEach(a=>{
        const row = document.createElement('div'); row.style.display='flex'; row.style.gap='8px'; row.style.alignItems='center'; row.style.marginBottom='8px';
        const t = document.createElement('input'); t.value=a.title; t.style.flex='1';
        const ebtn = document.createElement('button'); ebtn.textContent='Save'; ebtn.className='small';
        const rbtn = document.createElement('button'); rbtn.textContent='Del'; rbtn.className='small';
        ebtn.onclick = ()=>{ a.title=t.value; saveData(DATA); }
        rbtn.onclick = ()=>{ if(confirm('Supprimer ?')){ deleteArtwork(a.id); buildAdminPanel(); }}
        row.appendChild(t); row.appendChild(ebtn); row.appendChild(rbtn);
        adminList.appendChild(row);
      });

      // info text save on change
      document.getElementById('adminInfoText').addEventListener('blur',()=>{ DATA.infoText = document.getElementById('adminInfoText').value; saveData(DATA); });
    }

    function escapeHTML(s){ return (s||'').replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[m]); }

    // Edit modal for an artwork
    function openEditModal(id){
      const art = DATA.artworks.find(x=>x.id===id); if(!art) return;
      const temp = document.createElement('div'); temp.className='panel'; temp.style.maxWidth='540px'; temp.innerHTML = `
        <h3>Modifier œuvre</h3>
        <div class="field"><label>Titre</label><input id="m_title" type="text" value="${escapeHTML(art.title)}" /></div>
        <div class="field"><label>Description</label><textarea id="m_desc">${escapeHTML(art.desc)}</textarea></div>
        <div class="field"><label>Prix</label><input id="m_price" type="text" value="${escapeHTML(art.price)}" /></div>
        <div class="field"><label>Remplacer l'image</label><input id="m_file" type="file" accept="image/*"/></div>
        <div style="display:flex;gap:8px"><button id="m_save" class="btn">Enregistrer</button><button id="m_cancel" class="btn btn-outline">Annuler</button></div>
      `;
      const modal = document.createElement('div'); modal.className='modal open'; modal.appendChild(temp); document.body.appendChild(modal);
      modal.querySelector('#m_cancel').onclick = ()=>{ document.body.removeChild(modal); }
      modal.querySelector('#m_save').onclick = ()=>{
        art.title = document.getElementById('m_title').value; art.desc = document.getElementById('m_desc').value; art.price = document.getElementById('m_price').value;
        const f = document.getElementById('m_file').files[0];
        if(f){ const r=new FileReader(); r.onload=e=>{ art.image=e.target.result; saveData(DATA); document.body.removeChild(modal); buildAdminPanel(); }; r.readAsDataURL(f); }
        else{ saveData(DATA); document.body.removeChild(modal); buildAdminPanel(); }
      }
    }

    // Login handling
    const modalEl = document.getElementById('modal');
    document.getElementById('btnAdmin').onclick = ()=>{ modalEl.classList.add('open'); }
    document.getElementById('cancelLogin').onclick = ()=>{ modalEl.classList.remove('open'); }
    document.getElementById('loginBtn').onclick = ()=>{
      const p = document.getElementById('pwd').value;
      if(p===DEFAULT_PASS){ window.isAdmin=true; localStorage.setItem('sculpture_mg_admin','true'); modalEl.classList.remove('open'); buildAdminPanel(); renderAll(); alert('Connecté en tant qu\'admin'); }
      else{ alert('Mot de passe incorrect'); }
    }

    // persist admin flag for current browser
    if(localStorage.getItem('sculpture_mg_admin')==='true'){ window.isAdmin=true; }

    // buttons
    document.getElementById('scrollGallery').onclick = ()=>{ document.getElementById('galleryGrid').scrollIntoView({behavior:'smooth'}); }
    document.getElementById('btnExplore').onclick = ()=>{ document.getElementById('galleryGrid').scrollIntoView({behavior:'smooth'}); }

    // render initially
    window.onload = ()=>{ buildAdminPanel(); renderAll(); }

  </script>
</body>
</html>

<!-- ===== Changer mot de passe ===== -->
<div class="admin-section">
    <h3>Changer le mot de passe</h3>

    <label>Ancien mot de passe :</label>
    <input type="password" id="oldPass" placeholder="Ancien mot de passe">

    <label>Nouveau mot de passe :</label>
    <input type="password" id="newPass" placeholder="Nouveau mot de passe">

    <button onclick="changePassword()">Enregistrer le nouveau mot de passe</button>

    <p id="passMessage" style="color:green;"></p>
</div>

<script>
// ===== GESTION DU MOT DE PASSE =====
let DEFAULT_PASS = "admin123";
let adminPassword = localStorage.getItem("adminPassword") || DEFAULT_PASS;

function changePassword() {
    const oldP = document.getElementById("oldPass").value;
    const newP = document.getElementById("newPass").value;
    const message = document.getElementById("passMessage");

    if (oldP !== adminPassword) {
        message.style.color = "red";
        message.textContent = "❌ Ancien mot de passe incorrect.";
        return;
    }

    if (newP.length < 4) {
        message.style.color = "red";
        message.textContent = "❌ Le nouveau mot de passe doit faire au moins 4 caractères.";
        return;
    }

    adminPassword = newP;
    localStorage.setItem("adminPassword", newP);

    message.style.color = "green";
    message.textContent = "✔️ Mot de passe changé avec succès !";
}

function checkAdminLogin() {
    const pass = document.getElementById("adminPassword").value;
    if (pass === adminPassword) {
        document.getElementById("adminPanel").style.display = "block";
        document.getElementById("loginPanel").style.display = "none";
    } else {
        alert("Mot de passe incorrect !");
    }
}

// ===== AJOUT D'ŒUVRES PROVISOIRES =====
let DATA = {
    artworks: [
        {
            id: 1,
            title: "Sculpture en bois – Profil",
            description: "Sculpture artisanale représentant un visage taillé dans le bois.",
            image: "https://pxhere.com/photos/558216?download=1"
        },
        {
            id: 2,
            title: "Statue traditionnelle",
            description: "Une sculpture en bois représentant une forme humaine.",
            image: "https://pxhere.com/photos/1232522?download=1"
        },
        {
            id: 3,
            title: "Visage sculpté dans un tronc",
            description: "Oeuvre artistique taillée directement dans un tronc d’arbre.",
            image: "https://pxhere.com/photos/1254045?download=1"
        },
        {
            id: 4,
            title: "Sculpture rustique",
            description: "Objet sculpté de style ancien, idéal pour la galerie.",
            image: "https://pxhere.com/photos/944150?download=1"
        }
    ]
};
</script>
<!-- Part 2 start -->
<script>
// Panneau admin
const adminPanel = document.getElementById('adminPanel');
const adminBtn = document.getElementById('adminBtn');
const saveBtn = document.getElementById('saveChangesBtn');
const addBtn = document.getElementById('addArtworkBtn');
const works = document.getElementById('works');

adminBtn?.addEventListener('click', () => {
  adminPanel.classList.toggle('hidden');
});

addBtn?.addEventListener('click', () => {
  const newItem = document.createElement('div');
  newItem.className = 'bg-white p-4 rounded shadow';
  newItem.innerHTML = `
    <input type="text" placeholder="Titre" class="border p-1 mb-2 w-full">
    <input type="text" placeholder="URL de l'image" class="border p-1 mb-2 w-full">
    <textarea placeholder="Description" class="border p-1 w-full mb-2"></textarea>
    <button class="bg-red-500 text-white px-2 py-1 w-full deleteBtn">Supprimer</button>
  `;
  works.appendChild(newItem);
});

document.addEventListener('click', (e) => {
  if (e.target.classList.contains('deleteBtn')) {
    e.target.parentElement.remove();
  }
});
</script>
