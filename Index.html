<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L'Art de la Sculpture Malgache</title>
<style>
:root{
  --bg:#f7f3ef;
  --header:#2f2b28;
  --nav:#403c38;
  --accent:#d9a066;
  --accent-hover:#bb873f;
  --text:#222;
  --card:#fff;
}
body { margin:0; font-family: Arial, sans-serif; background:var(--bg); color:var(--text);}
header { background:var(--header); color:white; padding:15px; text-align:center; font-size:22px; font-weight:bold;}
nav { display:flex; justify-content:center; gap:10px; background:var(--nav); padding:10px;}
nav button { padding:10px 15px; background:var(--accent); border:none; color:white; cursor:pointer; border-radius:5px; font-weight:bold;}
nav button:hover { background:var(--accent-hover);}
section { display:none; padding:20px;}
section.visible { display:block;}
.hero { text-align:center; background:white; padding:20px; border-radius:10px;}
.hero img { width:100%; max-height:300px; object-fit:cover; border-radius:10px; margin-bottom:10px;}
.gallery { display:grid; grid-template-columns:repeat(auto-fill, minmax(180px,1fr)); gap:15px;}
.card { background:var(--card); border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.1); overflow:hidden; cursor:pointer; transition:0.2s;}
.card img { width:100%; height:180px; object-fit:cover; display:block;}
.card-body { padding:10px;}
.card-body .title { font-weight:bold; margin-bottom:5px;}
.card-body .desc { font-size:14px; color:#555; margin-bottom:5px;}
.card-body .price { color:var(--accent); font-weight:bold;}
.lightbox { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:10000;}
.lightbox img { max-width:90%; max-height:90%; border-radius:10px;}
.admin-panel { background:white; padding:20px; border-radius:10px;}
.admin-panel textarea, .admin-panel input { width:100%; padding:10px; margin-bottom:10px; }
button.save-btn { background:var(--accent); color:white; border:none; padding:10px 15px; cursor:pointer; border-radius:5px; font-weight:bold;}
button.save-btn:hover { background:var(--accent-hover);}
</style>
</head>
<body>

<header>L'Art de la Sculpture Malgache</header>

<nav>
<button onclick="openSection('accueil')">Accueil</button>
<button onclick="openSection('apropos')">À propos</button>
<button onclick="openSection('services')">Services</button>
<button onclick="openSection('galerie')">Galerie</button>
<button onclick="openSection('contact')">Contact</button>
<button onclick="openSection('admin')">Admin</button>
</nav>

<!-- HERO -->
<section id="accueil" class="hero visible">
<h2>Bienvenue dans l'univers de la sculpture malgache</h2>
<img id="accueilImage" src="" alt="Sculpture malgache">
<p id="textAccueil">
L'art de la sculpture malgache est un héritage ancestral.<br>
Chaque pièce raconte une histoire unique.<br>
Les sculpteurs malgaches utilisent bois et pierre.<br>
Cet art transmet culture et traditions.<br>
Il allie savoir-faire et créativité contemporaine.
</p>
</section>

<!-- A PROPOS -->
<section id="apropos">
<h2>À propos</h2>
<p id="textApropos">Artisan sculpteur passionné, spécialisé dans les œuvres traditionnelles et modernes.</p>
</section>

<!-- SERVICES -->
<section id="services">
<h2>Services</h2>
<ul id="listServices">
<li>Commandes personnalisées</li>
<li>Restauration d'œuvres</li>
<li>Expositions</li>
<li>Ateliers & Formations</li>
</ul>
</section>

<!-- GALERIE -->
<section id="galerie">
<h2>Galerie</h2>
<div class="gallery" id="galleryContainer"></div>
</section>

<!-- CONTACT -->
<section id="contact">
<h2>Contact</h2>
<p>Email : <span id="contactEmail">sculpture@example.com</span></p>
<p>Téléphone : <span id="contactTel">+261 34 00 000 00</span></p>
<p>Facebook : <span id="contactFB">facebook.com/artist</span></p>
<p>WhatsApp : <span id="contactWA">+261 34 00 000 00</span></p>
</section>

<!-- ADMIN -->
<section id="admin" class="admin-panel">
<h2>Panel Admin</h2>

<label>Texte Accueil :</label>
<textarea id="editAccueil"></textarea>
<label>Image Accueil :</label>
<input type="file" id="editImageInput" accept="image/*">

<label>Texte À propos :</label>
<textarea id="editApropos"></textarea>

<label>Services (une par ligne) :</label>
<textarea id="editServices"></textarea>

<label>Email Contact :</label>
<input id="editEmail">
<label>Téléphone :</label>
<input id="editTel">
<label>Facebook :</label>
<input id="editFB">
<label>WhatsApp :</label>
<input id="editWA">

<h3>Ajouter une sculpture :</h3>
<label>Titre :</label>
<input id="newSculptTitle" placeholder="Titre">
<label>Description :</label>
<input id="newSculptDesc" placeholder="Description">
<label>Prix :</label>
<input id="newSculptPrice" placeholder="Ex: 120 000 MGA">
<label>Image :</label>
<input type="file" id="newSculptImgInput" accept="image/*">
<button class="save-btn" onclick="addSculpture()">Ajouter sculpture</button>

<button class="save-btn" style="margin-top:15px;" onclick="saveAdmin()">Enregistrer toutes modifications</button>
</section>

<!-- Lightbox -->
<div class="lightbox" id="lightbox" onclick="this.style.display='none'">
<img id="lightboxImg" src="">
</div>

<script>
// Gestion des sections
function openSection(id){
  document.querySelectorAll('section').forEach(s => s.classList.remove('visible'));
  document.getElementById(id).classList.add('visible');
  window.scrollTo({top:0, behavior:'smooth'});
}

// Galerie initiale vide, admin pourra ajouter depuis PC/phone
let galleryData = [];

// Fonction afficher galerie
function renderGallery(){
  const container = document.getElementById('galleryContainer');
  container.innerHTML = '';
  galleryData.forEach((s,i)=>{
    const div = document.createElement('div');
    div.className='card';
    div.innerHTML=`<img src="${s.img}" alt="${s.title}"><div class="card-body">
    <div class="title">${s.title}</div>
    <div class="desc">${s.desc}</div>
    <div class="price">${s.price}</div></div>`;
    div.onclick=()=>{ 
      document.getElementById('lightboxImg').src=s.img;
      document.getElementById('lightbox').style.display='flex';
    };
    container.appendChild(div);
  });
}
renderGallery();

// Admin sauvegarde
function saveAdmin(){
  document.getElementById('textAccueil').innerText = document.getElementById('editAccueil').value;
  const fileInput = document.getElementById('editImageInput');
  if(fileInput.files.length>0){
    const reader = new FileReader();
    reader.onload = e => document.getElementById('accueilImage').src = e.target.result;
    reader.readAsDataURL(fileInput.files[0]);
  }
  document.getElementById('textApropos').innerText = document.getElementById('editApropos').value;
  const services = document.getElementById('editServices').value.split('\n').filter(s=>s.trim()!=='').map(s=>`<li>${s}</li>`).join('');
  document.getElementById('listServices').innerHTML = services;
  document.getElementById('contactEmail').innerText = document.getElementById('editEmail').value;
  document.getElementById('contactTel').innerText = document.getElementById('editTel').value;
  document.getElementById('contactFB').innerText = document.getElementById('editFB').value;
  document.getElementById('contactWA').innerText = document.getElementById('editWA').value;
  alert("Modifications enregistrées !");
}

// Ajouter sculpture depuis Admin
function addSculpture(){
  const title=document.getElementById('newSculptTitle').value.trim();
  const desc=document.getElementById('newSculptDesc').value.trim();
  const price=document.getElementById('newSculptPrice').value.trim();
  const fileInput=document.getElementById('newSculptImgInput');
  if(fileInput.files.length==0){ alert("Veuillez sélectionner une image."); return; }
  const reader=new FileReader();
  reader.onload=e=>{
    galleryData.unshift({title,desc,price,img:e.target.result});
    renderGallery();
  }
  reader.readAsDataURL(fileInput.files[0]);
  document.getElementById('newSculptTitle').value='';
  document.getElementById('newSculptDesc').value='';
  document.getElementById('newSculptPrice').value='';
  document.getElementById('newSculptImgInput').value='';
}

// Pré-remplissage admin
document.addEventListener('DOMContentLoaded',()=>{
  document.getElementById('editAccueil').value = document.getElementById('textAccueil').innerText;
  document.getElementById('editApropos').value = document.getElementById('textApropos').innerText;
  document.getElementById('editServices').value = Array.from(document.querySelectorAll('#listServices li')).map(li=>li.innerText).join('\n');
  document.getElementById('editEmail').value = document.getElementById('contactEmail').innerText;
  document.getElementById('editTel').value = document.getElementById('contactTel').innerText;
  document.getElementById('editFB').value = document.getElementById('contactFB').innerText;
  document.getElementById('editWA').value = document.getElementById('contactWA').innerText;
});
</script>
</body>
</html>
